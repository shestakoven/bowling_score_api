# -*- coding: utf-8 -*-

# –í–∞—Å –≤–∑—è–ª–∏ –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ –º–æ–ª–æ–¥–æ–π —Å—Ç–∞—Ä—Ç–∞–ø. –ò–¥–µ—è —Å—Ç–∞—Ä—Ç–∞–ø–∞ - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–∏—Å —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–≥—Ä.
# –ù–∞—á–∞—Ç—å —Ä–µ—à–∏–ª–∏ —Å –±–æ—É–ª–∏–Ω–≥–∞, —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏.
#
# –ü—Ä–∞–≤–∏–ª–∞ —Ç–∞–∫–∏–µ.
#
# –í—Å–µ–≥–æ 10 –∫–µ–≥–ª–µ–π. –ò–≥—Ä–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 10 —Ñ—Ä–µ–π–º–æ–≤. –í –æ–¥–Ω–æ–º —Ñ—Ä–µ–π–º–µ –¥–æ 2—Ö –±—Ä–æ—Å–∫–æ–≤, —Ü–µ–ª—å - —Å–±–∏—Ç—å –≤—Å–µ –∫–µ–≥–ª–∏.
# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ—Ä–µ–π–º–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å–∏–º–≤–æ–ª–∞–º–∏:
#   ¬´–•¬ª ‚Äì ¬´strike¬ª, –≤—Å–µ 10 –∫–µ–≥–ª–µ–π —Å–±–∏—Ç—ã –ø–µ—Ä–≤—ã–º –±—Ä–æ—Å–∫–æ–º
#   ¬´<—á–∏—Å–ª–æ>/¬ª, –Ω–∞–ø—Ä–∏–º–µ—Ä ¬´4/¬ª - ¬´spare¬ª, –≤ –ø–µ—Ä–≤—ã–π –±—Ä–æ—Å–æ–∫ —Å–±–∏—Ç—ã 4 –∫–µ–≥–ª–∏, –≤–æ –≤—Ç–æ—Ä–æ–π ‚Äì –æ—Å—Ç–∞–ª—å–Ω—ã–µ
#   ¬´<—á–∏—Å–ª–æ><—á–∏—Å–ª–æ>¬ª, –Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´34¬ª ‚Äì –≤ –ø–µ—Ä–≤—ã–π –±—Ä–æ—Å–æ–∫ —Å–±–∏—Ç–æ 3, –≤–æ –≤—Ç–æ—Ä–æ–π ‚Äì 4 –∫–µ–≥–ª–∏.
#   –≤–º–µ—Å—Ç–æ <—á–∏—Å–ª–æ> –º–æ–∂–µ—Ç —Å—Ç–æ—è—Ç—å –ø—Ä–æ—á–µ—Ä–∫ ¬´-¬ª, –Ω–∞–ø—Ä–∏–º–µ—Ä ¬´-4¬ª - –Ω–∏ –æ–¥–Ω–æ–π –∫–µ–≥–ª–∏ –Ω–µ –±—ã–ª–æ —Å–±–∏—Ç–æ –∑–∞ –ø–µ—Ä–≤—ã–π –±—Ä–æ—Å–æ–∫
# –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã ‚Äì —Å—Ç—Ä–æ–∫–∞ —Å –∑–∞–ø–∏—Å—å—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—Ä–µ–π–º–æ–≤. –°–∏–º–≤–æ–ª–æ–≤-—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π –º–µ–∂–¥—É —Ñ—Ä–µ–π–º–∞–º–∏ –Ω–µ—Ç.
# –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∏–≥—Ä—ã –∏–∑ 4 —Ñ—Ä–µ–π–º–æ–≤ –∑–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
#   ¬´–•4/34-4¬ª
# –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–¥—Å—á–µ—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—á–∫–æ–≤:
#   ¬´–•¬ª ‚Äì strike –≤—Å–µ–≥–¥–∞ 20 –æ—á–∫–æ–≤
#   ¬´4/¬ª - spare –≤—Å–µ–≥–¥–∞ 15 –æ—á–∫–æ–≤
#   ¬´34¬ª ‚Äì —Å—É–º–º–∞ 3+4=7
#   ¬´-4¬ª - —Å—É–º–º–∞ 0+4=4
# –¢–æ –µ—Å—Ç—å –¥–ª—è –∏–≥—Ä—ã ¬´–•4/34-4¬ª —Å—É–º–º–∞ –æ—á–∫–æ–≤ —Ä–∞–≤–Ω–∞ 20+15+7+4=46
#
# –ù–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å python-–º–æ–¥—É–ª—å (–Ω–∞–∑–≤–∞—Ç—å bowling), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π API —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—á–∫–æ–≤:
# —Ñ—É–Ω–∫—Ü–∏—é get_score, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é –ø–∞—Ä–∞–º–µ—Ç—Ä game_result. –§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è,
# –∫–æ–≥–¥–∞ game_result —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ –º–∞–∫—Å–∏–º—É–º—É,
# –µ—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç - —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–∏.
#
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ —ç—Ç–æ—Ç –º–æ–¥—É–ª—å. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å –≤ –ø–∞–ø–∫–µ tests.

# –ò–∑ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∞–π–ª–∞ —Å–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω—É—é —É—Ç–∏–ª–∏—Ç—É –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—á–∫–æ–≤, —Å –ø–æ–º–æ—â—å—é –ø–∞–∫–µ—Ç–∞ argparse
# –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä --result –∏ –ø–µ—á–∞—Ç–∞—Ç—å –Ω–∞ –∫–æ–Ω—Å–æ–ª—å:
#   –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –•–•–• - –£–£–£.

import argparse
from bowling import Scorer, GlobalRules

parser = argparse.ArgumentParser(description='Give me result, ill give you score')
parser.add_argument('--result', type=str, dest='result', help='Write result', required=True)
parser.add_argument('--rules', type=str, default='local', help='local or global rules', required=True)

args = vars(parser.parse_args())
if args['rules'] == 'local':
    scorer = Scorer(game_result=args['result'])
elif args['rules'] == 'global':
    scorer = GlobalRules(game_result=args['result'])
else:
    raise BaseException('–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞')
print(scorer.get_score())

# –ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –∑–∞–∫–∞–∑—á–∏–∫ –º–æ–∂–µ—Ç –∑–∞—Ö–æ—Ç–µ—Ç—å –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –∏ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π...
# –ò, –≤–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–°–æ—Å—Ç–æ—è–Ω–∏–µ",
#   —Å–º https://clck.ru/Fudd8 –∏ https://refactoring.guru/ru/design-patterns/state

# –∑–∞—á—ë—Ç! üöÄ
